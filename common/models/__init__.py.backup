"""
æ•°æ®æ¨¡å‹åŒ…

å¯¼å‡ºæ‰€æœ‰æ•°æ®æ¨¡å‹ç±»
"""

from .scraping_result import (
    ScrapingResult,
    ScrapingStatus,
    CompetitorInfo,
    CompetitorDetectionResult,
    ProductScrapingResult
)

# ğŸ”§ é‡æ„ï¼šå¯¼å…¥æ—§æ¨¡å‹ä»¥ä¿æŒå‘åå…¼å®¹
import sys
from pathlib import Path
# æ·»åŠ çˆ¶ç›®å½•ä»¥å¯¼å…¥common.models
parent_dir = Path(__file__).parent.parent
sys.path.insert(0, str(parent_dir))

# ä»æ—§çš„models.pyå¯¼å…¥æ‰€æœ‰å¿…éœ€çš„ç±»
try:
    from common.models import (
        CompetitorStore, clean_price_string,
        ExcelStoreData, StoreInfo, ProductInfo, BatchProcessingResult,
        StoreAnalysisResult, GoodStoreFlag, StoreStatus,
        PriceCalculationResult, ProductAnalysisResult,
        # å¼‚å¸¸ç±»
        GoodStoreSelectorError, DataValidationError, ScrapingError,
        CriticalBrowserError, ExcelProcessingError, PriceCalculationError,
        ConfigurationError
    )
except ImportError:
    # å¦‚æœå¯¼å…¥å¤±è´¥ï¼Œå°è¯•ç›¸å¯¹å¯¼å…¥
    import importlib.util
    spec = importlib.util.spec_from_file_location("old_models", parent_dir / "models.py")
    old_models = importlib.util.module_from_spec(spec)
    spec.loader.exec_module(old_models)

    CompetitorStore = old_models.CompetitorStore
    clean_price_string = old_models.clean_price_string
    ExcelStoreData = old_models.ExcelStoreData
    StoreInfo = old_models.StoreInfo
    ProductInfo = old_models.ProductInfo
    BatchProcessingResult = old_models.BatchProcessingResult
    StoreAnalysisResult = old_models.StoreAnalysisResult
    GoodStoreFlag = old_models.GoodStoreFlag
    StoreStatus = old_models.StoreStatus
    PriceCalculationResult = old_models.PriceCalculationResult
    ProductAnalysisResult = old_models.ProductAnalysisResult
    # å¼‚å¸¸ç±»
    GoodStoreSelectorError = old_models.GoodStoreSelectorError
    DataValidationError = old_models.DataValidationError
    ScrapingError = old_models.ScrapingError
    CriticalBrowserError = old_models.CriticalBrowserError
    ExcelProcessingError = old_models.ExcelProcessingError
    PriceCalculationError = old_models.PriceCalculationError
    ConfigurationError = old_models.ConfigurationError

__all__ = [
    'ScrapingResult',
    'ScrapingStatus',
    'CompetitorInfo',
    'CompetitorDetectionResult',
    'ProductScrapingResult',
    'CompetitorStore',
    'clean_price_string',
    'ExcelStoreData',
    'StoreInfo',
    'ProductInfo',
    'BatchProcessingResult',
    'StoreAnalysisResult',
    'GoodStoreFlag',
    'StoreStatus',
    'PriceCalculationResult',
    'ProductAnalysisResult',
    # å¼‚å¸¸ç±»
    'GoodStoreSelectorError',
    'DataValidationError',
    'ScrapingError',
    'CriticalBrowserError',
    'ExcelProcessingError',
    'PriceCalculationError',
    'ConfigurationError'
]